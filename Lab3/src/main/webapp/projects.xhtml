<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <title>Projects</title>
</h:head>
<h:body>
    <p:dialog header="Edit Project" widgetVar="editProjectDialog" modal="true" resizable="false">
        <h:form>
            <p:panelGrid columns="2">
                <h:outputLabel for="editName" value="Name:" />
                <p:inputText id="editName" value="#{projectBean.selectedProject.name}" />

                <h:outputLabel for="editCategory" value="Category:" />
                <p:selectOneMenu id="editCategory" value="#{projectBean.selectedProject.category}">
                    <f:selectItem itemLabel="Select Category" itemValue="" />
                    <f:selectItem itemLabel="Easy" itemValue="Easy" />
                    <f:selectItem itemLabel="Medium" itemValue="Medium" />
                    <f:selectItem itemLabel="Hard" itemValue="Hard" />
                </p:selectOneMenu>

                <h:outputLabel for="editDescription" value="Description:" />
                <p:inputText id="editDescription" value="#{projectBean.selectedProject.description}" />

                <h:outputLabel for="editDeadline" value="Deadline:" />
                <p:calendar id="editDeadline" value="#{projectBean.selectedProject.deadline}" showOn="button" />

                <p:commandButton value="Save" actionListener="#{projectBean.saveEditedProject}" oncomplete="PF('editProjectDialog').hide()" />
            </p:panelGrid>
        </h:form>
    </p:dialog>
    <p:dialog header="Create/Edit Project" widgetVar="projectDialog" modal="true" resizable="false">
    <!-- Form for creating/editing a project -->
    <h:form >
        <p:panelGrid columns="2">
            <h:outputLabel for="name" value="Name:" />
            <p:inputText id="name" value="#{projectBean.name}" />

            <h:outputLabel for="category" value="Category:" />
            <p:selectOneMenu id="category" value="#{projectBean.category}">
                <f:selectItem itemLabel="Select Category" itemValue="" />
                <f:selectItem itemLabel="Easy" itemValue="Easy" />
                <f:selectItem itemLabel="Medium" itemValue="Medium" />
                <f:selectItem itemLabel="Hard" itemValue="Hard" />
            </p:selectOneMenu>

            <h:outputLabel for="description" value="description:" />
            <p:inputText id="description" value="#{projectBean.description}" />

            <h:outputLabel for="deadline" value="Deadline:" />
            <p:calendar id="deadline" value="#{projectBean.deadline}" showOn="button" />

            <p:commandButton value="Save" action="#{projectBean.saveProject}" update="form" oncomplete="PF('projectDialog').hide()" />
        </p:panelGrid>
    </h:form>
</p:dialog>
    <h:form id="form">
        <p:commandButton value="Back To Welcome Page" action="backToIndex" icon="pi pi-arrow-left" styleClass="p-button p-button-rounded" />
        <p:commandButton value="Add Project" oncomplete="PF('projectDialog').show()" />



        <p:dataTable var="project" value="#{projectBean.projects}">
            <p:column headerText="Project ID">
                <h:outputText value="#{project.id}"/>
            </p:column>
            <p:column headerText="Project Name">
                <h:outputText value="#{project.name}"/>
            </p:column>
            <p:column headerText="Project Category">
                <h:outputText value="#{project.category}"/>
            </p:column>
            <p:column headerText="Project Description">
                <h:outputText value="#{project.description}"/>
            </p:column>
            <p:column headerText="Project Deadline">
                <h:outputText value="#{project.deadline}"/>
            </p:column>
            <p:column>
                <p:commandButton value="Edit" actionListener="#{projectBean.openEditDialog(project)}" oncomplete="PF('editProjectDialog').show()" />
            </p:column>
        </p:dataTable>

    </h:form>
</h:body>
</html>